<!DOCTYPE html>
<html lang="en">

<head>
    <!--embed stuff-->
    <!-- Primary Meta Tags -->
    <title>rustMotherboard</title>
    <meta name="title" content="rustMotherboard"/>
    <meta name="description" content="personal website + art gallery"/>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://rustmotherboard.codeberg.page/"/>
    <meta property="og:title" content="rustMotherboard" />
    <meta property="og:description" content="personal website + art gallery"/>
    <meta property="og:image" content="https://rustmotherboard.codeberg.page/assets/branding/rmb_banner.png"/>

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image"/>
    <meta property="twitter:url" content="https://rustmotherboard.codeberg.page/"/>
    <meta property="twitter:title" content="rustMotherboard" />
    <meta property="twitter:description" content="personal website + art gallery"/>
    <meta property="twitter:image" content="https://rustmotherboard.codeberg.page/assets/branding/rmb_banner.png"/>

    <!-- Meta Tags Generated with https://metatags.io -->
    <meta name="theme-color" content="#FF8AF5">

    <!--everything else-->
    <title>rustMotherboard</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/assets/style/main.css">
    <script>
        // Define originalButton in the global scope
        var originalButton;

        window.onload = function () {
            originalButton = document.getElementById("findButton");

            var iframe = document.getElementById('siteframe');
            iframe.onload = function () {
                const iframeDocument = iframe.contentDocument;

                // Set the parent document's title to the iframe's title
                var iframeTitle = iframe.contentWindow.document.title;
                document.title = iframeTitle === 'rustMotherboard' ? iframeTitle : iframeTitle + ' - rustMotherboard';

                // Create a MutationObserver to watch for changes in the iframe's title
                var target = iframe.contentWindow.document.querySelector('title');
                var observer = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        var newTitle = mutation.target.textContent;
                        document.title = newTitle === 'rustMotherboard' ? newTitle : newTitle + ' - rustMotherboard';
                    });
                });

                // Start observing the target node for configured mutations
                var config = { childList: true };
                observer.observe(target, config);

                // Add click event listeners to images in the iframe
                iframeDocument.querySelectorAll('img').forEach(img => {
                    img.addEventListener('click', function () {
                        if (!this.classList.contains('spin')) {
                            this.classList.add('spin');
                            this.classList.add('no-hover');
                            setTimeout(() => {
                                this.classList.remove('spin');
                                this.classList.remove('no-hover');
                            }, 1000); // Duration of the animation
                        }
                    });
                });
            };
        }

        function findPage() {
            // Create an input field and two buttons
            var input = document.createElement("input");
            var goButton = document.createElement("button");
            var cancelButton = document.createElement("button");

            // Set their properties
            input.type = "text";
            input.placeholder = "enter path...";

            goButton.textContent = "go!";
            goButton.className = "comic";
            goButton.id = "goButton";

            cancelButton.textContent = "cancel";
            cancelButton.className = "comic";

            // Execute a function when the user presses a key on the keyboard
            input.addEventListener("keypress", function (event) {
                // If the user presses the "Enter" key on the keyboard
                if (event.key === "Enter") {
                    // Cancel the default action, if needed
                    event.preventDefault();
                    // Trigger the button element with a click
                    document.getElementById("goButton").click();
                }
            });

            // Define what happens when the "Go" button is clicked
            goButton.onclick = function () {
                var path = input.value;
                if (path !== 'index.html' && path !== 'index') {
                    document.getElementById("siteframe").src = path;
                    document.getElementById("siteframe").style.display = "block";
                } else {
                    path = "ifindex.html"
                    document.getElementById("siteframe").src = path;
                    document.getElementById("siteframe").style.display = "block";
                }
                revertFindButton();
            };

            // Define what happens when the "Cancel" button is clicked
            cancelButton.onclick = revertFindButton;

            // Replace the "find" button with the input field and buttons
            originalButton.parentNode.replaceChild(input, originalButton);
            input.parentNode.appendChild(goButton);
            input.parentNode.appendChild(cancelButton);
        }

        function revertFindButton() {
            // Remove the input field and buttons
            var input = document.querySelector(".hbutton input");
            var buttons = document.querySelectorAll(".hbutton button");
            for (var i = 0; i < buttons.length; i++) {
                input.parentNode.removeChild(buttons[i]);
            }

            // Save the parent node
            var parentNode = input.parentNode;

            // Remove the input field
            parentNode.removeChild(input);

            // Insert the original "find" button
            parentNode.appendChild(originalButton);
        }
    </script>
</head>

<main>
    <div class="mainflex">
        <header>
            <a id="top"></a>
            <div class="headerflex">
                <div class="hf-logo"><img src="/assets/branding/rmb_logo_p.svg" height="100%" style="float: left">nov 19th<br>2024</div>
                <div class="hbutton"><a href="/ifindex.html" target="siteframe">home</a></div>
                <div class="hbutton"><a href="/projects.html" target="siteframe">projects</a></div>
                <div class="hbutton"><a href="/art.html" target="siteframe">art</a></div>
                <div class="hbutton"><a href="/blog.html" target="siteframe">blog</a></div>
                <div class="hbutton"><a href="/misc.html" target="siteframe">misc</a></div>
                <div class="hbutton"><button id="findButton" style="cursor: pointer; border: none; background-color: transparent; color: #ff8af5; font-family: Ferrite-core_med; font-size: 16px; padding: 0px;" onclick="findPage()">find</button></a></div>
            </div>
            <div class="ticker-container">
                <div class="ticker-wrapper">
                    <div class="ticker-transition">
                        <div class="ticker-item">new series! <a href="/projects/britj/britj.html" target="siteframe">big rumble in the jungle</a> episode 1 is now avaialble to read. comes with the ability to <b>vote</b>! try it out!</div>
                        <div class="ticker-item"><b>|>| SITE NEWS |>|</b></div>
                        <div class="ticker-item">new site update: nothing too major, but i'm trying to fix up the readability of some pages. acronyms for instance now have an appropiate ABBR tag so you can hover on them to see what they actually stand for. this probably hasn't been rolled out to everything yet though and may take a few commits to do so</div>
                        <div class="ticker-item">i've also reorganized the projects page a bit, added two more, and fixed up a handful of deadlinks and stuff i've been forgetting to fix up for a while now (looking at you unnamed header on the mssb world tour project page)</div>
                        <div class="ticker-item"><b>|>| PREVIOUS NEWS |>|</b></div>
                        <div class="ticker-item">hey! new update! its mostly some minor visual changes, but i've added 'ryan brawl' as a new project, it's a very quick 2023 comic i made with three episodes. other than that, it's the run of the mill updating of pages around here</div>
                        <div class="ticker-item">minor QOL changes too with the novels (ppunk and nng), they should save your position when you come back to the page...note i have not tested it fully and maybe won't actually save your spot. who knows? solve my mystery...it's using localstorage so it should probably work</div>
                        <div class="ticker-item">o yea new favicon too i guess</div>
                        <div class="ticker-item">also images with links on them have this cool css hover animation now -- idk how long i'll leave those there but they look cool so like WHATEVER MAN!!! most of them also spin!!!</div>
                        <div class="ticker-item">there might be a new blog post later down the line, or adding some older projects, but i got no clue when i'll ever get around to that. maybe someday!</div>
                    </div>
                </div>
            </div>
        </header>
        <iframe class="siteflex" name="siteframe" id="siteframe" src="/ifindex.html"></iframe>    
    </div>
</main>

</html>